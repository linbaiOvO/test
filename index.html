<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—ç™½çš„æ—¥è®°æœ¬</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap');
        body { font-family: 'Noto Serif SC', serif; }
        .bg-pattern { background-image: radial-gradient(#fbcfe8 1px, transparent 1px); background-size: 20px 20px; background-color: #fdf2f8; }
        .animate-float { animation: float 6s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
    </style>
</head>
<body class="bg-pattern min-h-screen flex flex-col items-center justify-center p-6 text-center relative overflow-hidden">

    <div class="absolute top-1/4 left-1/4 w-64 h-64 bg-purple-200/30 rounded-full blur-3xl animate-float"></div>
    <div class="absolute bottom-1/4 right-1/4 w-80 h-80 bg-pink-200/30 rounded-full blur-3xl animate-float" style="animation-delay: -2s;"></div>

    <main class="relative z-10 bg-white/60 backdrop-blur-sm p-12 rounded-[3rem] shadow-xl border border-white/50 max-w-md w-full transition-transform hover:scale-105 duration-500">
        <div class="text-6xl mb-6">ğŸ“–</div>
        
        <h1 class="text-4xl md:text-5xl font-bold text-slate-800 mb-4 tracking-wider">
            æ—ç™½çš„<br>
            <span class="text-pink-500">æ—¥è®°æœ¬</span>
        </h1>
        
        <p class="text-slate-500 mb-12 text-sm md:text-base italic">
            "æ¬¢è¿å…‰ä¸´æˆ‘çš„ä¸–ç•Œ..."
        </p>

        <!-- æ¸¸å®¢ç›´æ¥è¿›å…¥ -->
        <a href="diary.html" class="group relative inline-flex items-center justify-center px-8 py-4 font-bold text-white transition-all duration-200 bg-gradient-to-r from-pink-500 to-purple-500 rounded-full hover:shadow-lg hover:shadow-pink-500/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 active:scale-95">
            <span class="absolute inset-0 w-full h-full -mt-1 rounded-lg opacity-30 bg-gradient-to-b from-transparent via-transparent to-black"></span>
            <span class="relative flex items-center gap-2">
                é˜…è¯»æ—¥è®°
                <i data-lucide="arrow-right" class="w-5 h-5 transition-transform group-hover:translate-x-1"></i>
            </span>
        </a>
    </main>

    <!-- åº•éƒ¨ç§˜å¯†å…¥å£ -->
    <footer class="absolute bottom-6 text-slate-400 text-xs flex items-center gap-2">
        <span>&copy; 2025 Linbai's Diary</span>
        <!-- ç‚¹å‡»è¿™ä¸ªå°é”ç™»å½• -->
        <button id="adminLoginBtn" class="hover:text-pink-500 transition-colors" title="ç®¡ç†å‘˜ç™»å½•">
            <i data-lucide="lock" class="w-3 h-3"></i>
        </button>
    </footer>

    <!-- ğŸ” ç™»å½•å¼¹çª— -->
    <div id="loginModal" class="fixed inset-0 bg-black/40 backdrop-blur-sm hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white w-full max-w-sm rounded-3xl shadow-2xl p-8 relative animate-scale-up">
            <button id="closeModal" class="absolute top-4 right-4 text-slate-400 hover:text-slate-600"><i data-lucide="x" class="w-6 h-6"></i></button>
            <h2 class="text-xl font-bold text-slate-700 mb-6 text-center">ä¸»äººèº«ä»½éªŒè¯</h2>
            <div class="space-y-4">
                <input type="email" id="email" placeholder="è´¦å·" class="w-full p-3 rounded-xl bg-slate-50 border border-slate-200 outline-none focus:ring-2 focus:ring-pink-300">
                <input type="password" id="password" placeholder="å¯†ç " class="w-full p-3 rounded-xl bg-slate-50 border border-slate-200 outline-none focus:ring-2 focus:ring-pink-300">
                <button id="loginBtn" class="w-full py-3 bg-pink-500 hover:bg-pink-600 text-white rounded-xl font-bold shadow-md active:scale-95 transition-all">ç™»å½•</button>
            </div>
            <p id="errorMsg" class="text-red-500 text-xs text-center mt-4 hidden"></p>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // âš ï¸ æ¬§å°¼é…±çš„é…ç½® (ä¿æŒä¸å˜)
        const firebaseConfig = {
            apiKey: "AIzaSyDdqCijPyu6KDVAQMIrNUV2qAPTkk0Ree0",
            authDomain: "linbai-blog.firebaseapp.com",
            projectId: "linbai-blog",
            storageBucket: "linbai-blog.firebasestorage.app",
            messagingSenderId: "69762708684",
            appId: "1:69762708684:web:fb906d0cff4074730abe69",
            measurementId: "G-6S4NBJPSMJ"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        lucide.createIcons();

        const modal = document.getElementById('loginModal');
        
        // è‡ªåŠ¨æ£€æµ‹ï¼šå¦‚æœå·²ç»ç™»å½•ï¼Œå°é”å˜æˆæ‰“å¼€çŠ¶æ€ï¼Œæˆ–è€…ç›´æ¥è·³åˆ°ç®¡ç†é¡µ(è¿™é‡Œé€‰æ‹©ä¸è·³ï¼Œä¿æŒä½è°ƒ)
        onAuthStateChanged(auth, (user) => {
            if (user) {
                console.log("ä¸»äººå·²ç™»å½•ï¼");
                document.getElementById('adminLoginBtn').innerHTML = `<i data-lucide="unlock" class="w-3 h-3 text-green-500"></i>`;
                lucide.createIcons();
            }
        });

        document.getElementById('adminLoginBtn').onclick = () => {
            // å¦‚æœå·²ç»ç™»å½•ï¼Œç‚¹å‡»å°±æ˜¯å»æ—¥è®°é¡µ
            if (auth.currentUser) {
                window.location.href = 'diary.html';
            } else {
                modal.classList.remove('hidden');
            }
        };
        document.getElementById('closeModal').onclick = () => modal.classList.add('hidden');

        document.getElementById('loginBtn').onclick = async () => {
            const email = document.getElementById('email').value;
            const pass = document.getElementById('password').value;
            try {
                await signInWithEmailAndPassword(auth, email, pass);
                window.location.href = 'diary.html'; // ç™»å½•æˆåŠŸè·³è½¬
            } catch (error) {
                document.getElementById('errorMsg').innerText = "å¯†ç ä¸å¯¹å“¦å–µï¼ğŸ˜¿";
                document.getElementById('errorMsg').classList.remove('hidden');
            }
        };
    </script>
    <style>.animate-scale-up { animation: scaleUp 0.3s cubic-bezier(0.16, 1, 0.3, 1); } @keyframes scaleUp { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }</style>
</body>
</html>
